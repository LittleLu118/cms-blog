import{e as p,a as e,W as j,d as v,q as C,b as S}from"./index-4af2f7f3.js";import{I as w}from"./Icon-5b0a4ec5.js";import{I as u}from"./InputError-36cadade.js";import{M as F}from"./Modal-2ff20f47.js";import{I as f}from"./InputLabel-88f834c3.js";import{F as y}from"./FlashMessage-2fccb31c.js";import{C as _,a as M}from"./GallerySection-6a1be282.js";import{G as I}from"./GuestLayout-1d402d7d.js";import"./transition-03e7857e.js";import"./index-511b6dee.js";import"./ApplicationLogo-1785afe5.js";import"./Dropdown-7d9b658b.js";const N=p.forwardRef(function({type:t="text",icon:l="",className:a="",isFocused:r=!1,disabled:o=!1,...i},d){const m=d||p.useRef();return p.useEffect(()=>{r&&m.current.focus()},[]),e.jsxs("div",{className:"flex items-center justify-center w-full p-1 space-x-2 bg-white border rounded-full border-slate-300",children:[e.jsx("input",{...i,type:t,className:"appearance-none border-0 rounded-l-full w-4/5 focus:ring-0 "+a,ref:m}),e.jsx("div",{className:"flex justify-end w-1/5",children:e.jsx("button",{...i,className:`inline-flex justify-center items-center w-10 h-10 p-2 bg-yellow-800 border border-transparent rounded-full font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-700 focus:bg-yellow-700 active:bg-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150 ${o&&"opacity-25"} `+a,disabled:o,children:e.jsx(w,{name:l,className:"w-4 h-4 stroke-white stroke-2"})})})]})});function q({searchQuery:s}){const{data:t,setData:l,errors:a,post:r,processing:o}=j({query:""}),i=d=>{d.preventDefault(),s(t.query)};return e.jsx("form",{onSubmit:i,className:"w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsx(N,{id:"query",name:"query",icon:"search",value:t.query,className:"block w-full",autoComplete:"query",isFocused:!1,placeholder:"Search Publication",onChange:d=>l("query",d.target.value),required:!0}),e.jsx(u,{message:a.query,className:"mt-2"})]})})}function D({link:s,children:t,...l}){return e.jsxs(v,{...l,className:"inline-flex items-center px-4 py-2 bg-white border border-slate-200 rounded-full font-semibold text-xs text-slate-600 uppercase tracking-widest hover:bg-slate-100 active:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-300 focus:ring-offset-2 transition ease-in-out duration-150 ",href:s,children:[e.jsx(w,{name:"plus-small",className:"mr-2 w-4 h-4 stroke-slate-600"}),t]})}function k({className:s="",disabled:t,children:l,...a}){return e.jsx("button",{...a,className:`inline-flex items-center px-4 py-2 bg-yellow-800 border border-transparent rounded-full font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-700 focus:bg-yellow-700 active:bg-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150 ${t&&"opacity-25"} `+s,disabled:t,children:l})}const h=p.forwardRef(function({type:t="text",className:l="",isFocused:a=!1,...r},o){const i=o||p.useRef();return p.useEffect(()=>{a&&i.current.focus()},[]),e.jsx("input",{...r,type:t,className:"border-gray-300 focus:border-yellow-700 focus:ring-yellow-700 rounded-full "+l,ref:i})});function A({auth:s,formSuccess:t}){const{data:l,setData:a,post:r,errors:o,processing:i,reset:d}=j({name:"",website:"",address_1:"",address_2:"",city:"",state:"",country:"",zipcode:"",gps:null}),m=n=>{n.preventDefault(),r(route("publication.store"),{onSuccess:()=>{d(),t()}})};return e.jsxs("section",{className:"w-full p-4",children:[e.jsx(y,{}),e.jsx("div",{className:"w-full col-span-12",children:e.jsx("div",{className:"w-full p-4 bg-white rounded-md",children:e.jsxs("form",{onSubmit:m,className:"w-full space-y-6",children:[e.jsxs("div",{className:"flex w-full space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(f,{htmlFor:"name",value:"Publication"}),e.jsx(h,{id:"name",name:"name",value:l.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:n=>a("name",n.target.value),required:!0}),e.jsx(u,{message:o.name,className:"mt-2"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx(f,{htmlFor:"website",value:"Website"}),e.jsx(h,{id:"website",name:"website",value:l.website,type:"url",className:"block w-full mt-1",autoComplete:"website",isFocused:!1,onChange:n=>a("website",n.target.value),required:!0}),e.jsx(u,{message:o.website,className:"mt-2"})]})]}),e.jsxs("div",{className:"",children:[e.jsx(f,{htmlFor:"address_1",value:"Address Line 1"}),e.jsx(h,{id:"address_1",name:"address_1",value:l.address_1,className:"block w-full mt-1",autoComplete:"address_1",isFocused:!1,onChange:n=>a("address_1",n.target.value),required:!0}),e.jsx(u,{message:o.address_1,className:"mt-2"})]}),e.jsxs("div",{className:"",children:[e.jsx(f,{htmlFor:"address_2",value:"Address Line 2"}),e.jsx(h,{id:"address_2",name:"address_2",value:l.address_2,className:"block w-full mt-1",autoComplete:"address_2",isFocused:!1,onChange:n=>a("address_2",n.target.value)}),e.jsx(u,{message:o.address_2,className:"mt-2"})]}),e.jsxs("div",{className:"flex w-full space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(f,{htmlFor:"city",value:"City"}),e.jsx(h,{id:"city",name:"city",value:l.city,className:"block w-full mt-1",autoComplete:"city",isFocused:!1,onChange:n=>a("city",n.target.value),required:!0}),e.jsx(u,{message:o.city,className:"mt-2"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx(f,{htmlFor:"state",value:"State"}),e.jsx(h,{id:"state",name:"state",value:l.state,className:"block w-full mt-1",autoComplete:"state",isFocused:!1,onChange:n=>a("state",n.target.value),required:!0}),e.jsx(u,{message:o.state,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex w-full space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(f,{htmlFor:"country",value:"Country"}),e.jsx(h,{id:"country",name:"country",value:l.country,className:"block w-full mt-1",autoComplete:"country",isFocused:!1,onChange:n=>a("country",n.target.value),required:!0}),e.jsx(u,{message:o.country,className:"mt-2"})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx(f,{htmlFor:"zipcode",value:"Zip Code"}),e.jsx(h,{id:"zipcode",name:"zipcode",value:l.zipcode,className:"block w-full mt-1",autoComplete:"zipcode",isFocused:!1,onChange:n=>a("zipcode",n.target.value),required:!0}),e.jsx(u,{message:o.zipcode,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{disabled:i,children:"Submit"})})]})})})]})}function E({appData:s,ctaData:t,gsearchPubData:l,...a}){const{data:r,setData:o}=j({openModal:!1}),i=n=>{n.preventDefault(),d()},d=()=>{o("openModal",!r.openModal)},m=n=>{l(n)};return e.jsxs("section",{className:"w-full pt-10 pb-40 md:pb-56 bg-gradient-to-t from-orange-50 to-white",children:[e.jsx("div",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"w-full p-4 text-center sm:w-1/2 sm:p-8 text-slate-700",children:[s.slogan?e.jsx("h2",{className:"w-3/4 mx-auto mt-4 text-5xl font-semibold sm:w-full",children:s.slogan}):null,s.description?e.jsx("div",{className:"mt-4 font-light sm:mt-8 text-slate-500",dangerouslySetInnerHTML:{__html:s.description}}):null,e.jsxs("div",{className:"flex items-center justify-center w-full mt-8 space-x-4",children:[e.jsxs("a",{href:t.android,className:"flex items-center justify-center px-2 py-1 space-x-1 text-xs font-medium bg-white border rounded-full sm:text-sm sm:px-4 sm:py-2 border-slate-300",children:[e.jsx(w,{name:"android",className:"w-4 h-4 md:w-6 md:h-6"})," ",e.jsx("span",{children:"Get it on Google Play"})]}),e.jsxs("a",{href:t.ios,className:"flex items-center justify-center px-2 py-1 space-x-1 text-xs font-medium bg-yellow-800 border border-yellow-700 rounded-full sm:text-sm sm:px-4 sm:py-2 text-yellow-50",children:[e.jsx(w,{name:"apple",className:"w-4 h-4 md:w-6 md:h-6 fill-white"})," ",e.jsx("span",{children:"Download on the App Store"})]})]})]})}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"w-full p-4 md:flex md:items-center",children:[e.jsx("div",{className:"font-medium text-center text-md md:text-lg lg:text-2xl text-slate-600 md:text-left md:w-2/5",children:t.extra}),e.jsxs("div",{className:"items-center w-full mt-4 space-x-2 md:mt-0 md:flex md:space-x-4 md:justify-between md:p-0 md:w-3/5",children:[e.jsx("div",{className:"w-full md:w-4/6",children:e.jsx(q,{searchQuery:m})}),e.jsx("div",{className:"flex justify-center w-full mt-4 md:w-2/6 md:mt-0",children:e.jsx(D,{link:"#",onClick:i,children:"Add Publication"})})]})]})})}),e.jsxs(F,{show:r.openModal,children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("h2",{className:"p-4 text-lg font-medium text-center text-gray-700 md:text-left",children:"Add a publication"}),e.jsx("div",{className:"px-2 py-1 text-sm text-yellow-700 cursor-pointer",onClick:i,children:"x close"})]}),e.jsx("p",{className:"px-4 text-slate-500",children:"We're dedicated to providing comprehensive local news coverage on the Enpak app. If you don't see your preferred local publication featured, we encourage you to submit it for review. Your input helps us ensure that our platform reflects the diverse range of news sources in communities everywhere. Thank you for helping us make Enpak a valuable resource for all users."}),e.jsx(A,{formSuccess:i})]})]})}function T({ctaData:s,...t}){return e.jsx("section",{className:"w-full pt-20 pb-20 bg-white md:py-10",children:e.jsx("div",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"w-full p-2 text-center md:p-8 md:w-1/2 text-slate-700",children:[e.jsx("h2",{className:"w-full mt-4 text-3xl font-semibold md:w-2/3 md:mx-auto md:text-5xl",children:"Download the app"}),e.jsxs("div",{className:"flex items-center justify-center w-full mt-8 space-x-4",children:[e.jsxs("a",{href:s.android,className:"flex items-center justify-center px-2 py-1 space-x-1 text-xs font-medium bg-white border rounded-full sm:text-sm sm:px-4 sm:py-2 border-slate-300",children:[e.jsx(w,{name:"android",className:"w-4 h-4 md:w-6 md:h-6"})," ",e.jsx("span",{children:"Get it on Google Play"})]}),e.jsxs("a",{href:s.ios,className:"flex items-center justify-center px-2 py-1 space-x-1 text-xs font-medium bg-yellow-800 border border-yellow-700 rounded-full sm:text-sm sm:px-4 sm:py-2 text-yellow-50",children:[e.jsx(w,{name:"apple",className:"w-4 h-4 md:w-6 md:h-6 fill-white"})," ",e.jsx("span",{children:"Download on the App Store"})]})]})]})})})}function $({content:s,className:t=""}){let l=s.cover;return l&&l.url&&(l=s.cover.url.external?s.cover.url.external:s.cover.url.large),e.jsx("section",{id:s.id??"",className:`w-full p-4 mt-4 ${t}`,children:e.jsx("div",{className:"w-full py-4 md:container md:col-span-12 md:py-8 md:mx-auto",children:e.jsxs("div",{className:"w-full md:flex md:space-x-4 text-slate-600",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx("h1",{className:"text-2xl font-medium md:text-4xl",children:s.name}),s.intro?e.jsx("article",{className:"w-full prose text-justify text-slate-500 max-w-none prose-md",dangerouslySetInnerHTML:{__html:s.intro}}):null,l?e.jsx("img",{src:l,className:"object-cover object-center w-full mt-4 h-60 rounded-xl"}):null]}),e.jsxs("div",{className:"relative w-full h-64 mt-4 md:mt-0 md:h-96 md:w-1/2",children:[e.jsx("div",{className:"absolute top-0 z-10 w-full h-[25px] bg-gradient-to-b from-white to-transparent"}),e.jsx("div",{className:"h-full overflow-y-auto md:h-96",children:e.jsx("article",{className:"w-full prose text-justify max-w-none prose-md prose-p:bg-white prose-p:p-4 prose-p:border-l-4 prose-p:border-yellow-800",dangerouslySetInnerHTML:{__html:s.body}})}),e.jsx("div",{className:"absolute bottom-0 z-10 w-full h-[25px] bg-gradient-to-t from-white to-transparent flex justify-end",children:e.jsx(w,{name:"chevron-up-and-down",className:"w-8 h-8 mr-4 mb-2 stroke-yellow-700 stroke-2 animate-bounce"})})]})]})})})}function z({mapData:s,...t}){console.log(s);const l=p.useRef();p.useEffect(()=>{const r=document.createElement("script");r.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBR3hWMipMRMEc8it4HQaP7Vm7isx8GPwQ&libraries=places&language=en",r.async=!0,window.document.body.appendChild(r),r.addEventListener("load",()=>{a()})},[s]);function a(){let r=new window.google.maps.Map(l.current,{zoom:5,center:{lat:40.423584474953735,lng:-99.95230011373597},disableDefaultUI:!0});s.map((o,i)=>{var c,x;let d=`<div key='marker${i}' className="">
                         <h2 className="text-gray-700 font-bodl text-md">${o.name}</h2>
                    </div>`,m=new window.google.maps.InfoWindow({content:d}),n={lat:parseFloat((c=o.location)==null?void 0:c.lat),lng:parseFloat((x=o.location)==null?void 0:x.lon)},b=new window.google.maps.Marker({position:n,map:r,animation:window.google.maps.Animation.DROP,title:`${o.name}`,icon:o.marker});b.addListener("click",()=>{m.open(r,b)})})}return e.jsx("div",{className:"w-full p-1 m-2 bg-white shadow-lg md:m-4 md:p-3 rounded-xl shadow-slate-300 h-[300px] md:h-[500px]",children:e.jsx("div",{id:"google-map",ref:l,className:"rounded-xl",style:{width:"100%",height:"100%"}})})}const L=p.forwardRef(function({className:t="",isFocused:l=!1,...a},r){const o=r||p.useRef();return p.useEffect(()=>{l&&o.current.focus()},[]),e.jsx("div",{className:t,children:e.jsx("textarea",{...a,className:"border-gray-300 focus:border-yellow-700 p-4 focus:ring-yellow-700 rounded-xl "+t,ref:o})})});function R({bgData:s}){const{data:t,setData:l,post:a,errors:r,processing:o,reset:i}=j({name:"",email:"",message:""}),d=m=>{m.preventDefault(),a(route("site.contact"),{onSuccess:i()})};return e.jsx("section",{className:"w-full p-4",children:e.jsx("div",{className:"w-full md:container md:col-span-12 md:mx-auto",children:e.jsx("div",{className:"w-full p-2 bg-right bg-no-repeat bg-contain rounded-lg md:p-8 bg-slate-200",style:{backgroundImage:`url(${s})`},children:e.jsxs("form",{onSubmit:d,className:"w-full space-y-4 md:w-2/3 md:space-y-6",children:[e.jsxs("div",{className:"w-full bg-white/[.65] md:bg-transparent rounded md:rounded-none p-2",children:[e.jsx("h2",{className:"mt-2 text-xl font-medium text-center md:mt-4 md:text-4xl",children:"We'd love to hear from you!"}),e.jsx("p",{className:"text-xs text-slate-800 md:text-slate-500 md:text-sm",children:"We welcome your inquiries and are here to provide you with more information about how Enpak can help keep you informed and engaged with you local community and the world at large."})]}),e.jsx(y,{}),e.jsxs("div",{className:"w-full md:flex md:space-x-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx(f,{htmlFor:"name",value:"Name"}),e.jsx(h,{id:"name",name:"name",value:t.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!1,onChange:m=>l("name",m.target.value),required:!0}),e.jsx(u,{message:r.name,className:"mt-2"})]}),e.jsxs("div",{className:"w-full mt-3 md:w-1/2 md:mt-0",children:[e.jsx(f,{htmlFor:"email",value:"Email"}),e.jsx(h,{id:"email",name:"email",value:t.email,type:"email",className:"block w-full mt-1",autoComplete:"email",isFocused:!1,onChange:m=>l("email",m.target.value),required:!0}),e.jsx(u,{message:r.email,className:"mt-2"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(f,{htmlFor:"message",value:"Message"}),e.jsx(L,{id:"message",name:"message",value:t.message,className:"block w-full mt-1",onChange:m=>l("message",m.target.value),required:!0}),e.jsx(u,{message:r.message,className:"mt-2"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{disabled:o,children:"Submit"})})]})})})})}function P(){const{data:s,setData:t,errors:l,post:a,processing:r}=j({email:""}),o=i=>{i.preventDefault(),a(route("newsletter.subscribe"))};return e.jsxs("div",{className:"w-full p-4 rounded-lg bg-slate-100",children:[e.jsx("h3",{className:"text-lg font-medium md:text-xl",children:"Sign up for our newsletter"}),e.jsx("p",{className:"text-sm text-slate-500",children:"As a subscriber, you'll be joining a movement that's dedicated to supporting local news."}),e.jsxs("form",{onSubmit:o,className:"w-full mt-4",children:[e.jsx(y,{}),e.jsxs("div",{className:"w-full",children:[e.jsx(N,{id:"email",name:"email",icon:"chevron-right",value:s.email,type:"email",className:"block w-full",autoComplete:"email",isFocused:!1,placeholder:"Email Address",onChange:i=>t("email",i.target.value),required:!0}),e.jsx(u,{message:l.email,className:"mt-2"})]})]})]})}function G({newsletters:s}){let t={},l=[];for(let a=0;a<s.length;a++)a==0?t=s[a]:l.push(s[a]);return e.jsx("section",{className:"w-full py-8",children:e.jsxs("div",{className:"w-full md:container md:mx-auto text-slate-600",children:[e.jsx("h2",{className:"pl-4 text-2xl font-medium md:text-4xl md:p-0",children:"Newsletter Updates"}),e.jsxs("div",{className:"w-full p-4 mt-0 md:mt-4 md:p-0 md:flex md:divide-x",children:[e.jsxs("div",{className:"w-full md:w-2/3 md:pr-8",children:[t.cover?e.jsx("img",{src:t.cover,className:"object-cover object-center w-full mt-4 h-96 rounded-xl"}):null,e.jsx(v,{href:route("site.page",t.slug),className:"hover:text-yellow-700 focus:text-yellow-700 hover:underline focus:underline",children:e.jsx("h3",{className:"mt-4 text-xl font-medium md:text-2xl",children:t.title})}),e.jsx("div",{className:"w-full prose text-slate-500 max-w-none prose-md line-clamp-3",dangerouslySetInnerHTML:{__html:t.intro}})]}),e.jsxs("div",{className:"mt-2 md:mt-0 md:grid md:w-1/3 md:grid-cols-1 md:gap-2 md:pl-8",children:[l.map((a,r)=>e.jsxs("div",{className:"py-2 border-t border-slate-200 md:border-none md:pt-0",children:[e.jsx(v,{href:route("site.page",a.slug),className:"hover:text-yellow-700 focus:text-yellow-700 hover:underline focus:underline",children:e.jsx("h3",{className:"font-medium text-md md:text-xl",children:a.title})}),e.jsx("div",{className:"w-full text-sm prose md:text-md text-slate-500 max-w-none prose-md line-clamp-2",dangerouslySetInnerHTML:{__html:a.intro}})]},`nlfeat${r}`)),e.jsx(P,{})]})]})]})})}function ee(){const{info:s,app:t,additional:l}=C().props,a=s.page.data??s.page,r=s.cta??null,o=Object.values(a.block_display.blocks),i=Object.values(a.block_display.newsletter),{data:d,setData:m}=j({mapData:r?r.map:[]}),n=(c,x)=>{console.log(c);let g=x%2==0?"bg-white":"bg-orange-50/[.85]";return c.type=="content"?c.full_display===!0?e.jsx(_,{content:c,className:g},`section-${x}`):e.jsx($,{content:c,className:g},`section-${x}`):c.type=="gallery"?e.jsx(M,{content:c,className:g,carousel:!0},`section-${x}`):null},b=c=>{let x=r.map.filter(g=>g.name.toLowerCase().lastIndexOf(`${c.toLowerCase()}`)!=-1);m("mapData",x)};return e.jsxs(I,{children:[e.jsx(S,{title:"Welcome"}),r?e.jsx(E,{appData:t.data,ctaData:r.app,gsearchPubData:b}):null,r?e.jsx("section",{className:"z-0 flex items-center justify-center w-full -mt-40 md:-mt-56",children:e.jsx("div",{className:"flex items-center w-full md:container md:mx-auto",children:e.jsx("div",{className:"w-3/4 mx-auto",children:e.jsx(z,{mapData:d.mapData})})})}):null,o.map((c,x)=>n(c,x)),r?e.jsx(T,{ctaData:r.app}):null,i.length?e.jsx(G,{newsletters:i}):null,e.jsx(R,{bgData:l.mascot})]})}export{ee as default};
