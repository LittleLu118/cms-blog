import{q as w,W as F,a as e,d as x,b as C}from"./index-daaa950d.js";import{A as y}from"./AdminLayout-6b0fd4bb.js";import{I as d}from"./InputError-2509fabd.js";import{I as n}from"./InputLabel-d98e48d3.js";import{F as S}from"./FileInputPreview-c64d137a.js";import{P as E}from"./PrimaryButton-22c3cd02.js";import{T as r}from"./TextInput-cbc3e4dd.js";import{F as A}from"./FlashMessage-65223d66.js";import{d as D,C as I}from"./ckeditor-fa1dc984.js";import"./TopNavigation-1c37a36f.js";import"./ApplicationLogo-6d841ec8.js";import"./Dropdown-5f6914f7.js";import"./transition-6026fda8.js";import"./ResponsiveNavLink-079caf99.js";import"./Icon-7a7ca52b.js";import"./MainMenu-6feed8b1.js";import"./MainMenuItem-1c4ccba4.js";import"./index-29727f47.js";function Z({auth:h}){var p;const{info:g}=w().props,i=((p=g.setting)==null?void 0:p.data)||[];console.log(i);const{data:a,setData:t,put:L,post:j,errors:m,processing:v,transform:P}=F({name:i.name||"",slogan:i.slogan||"",description:i.description||"",email:i.email||"",phone:i.phone||"",address:i.address||"",socials:i.socials||[],logo:null,selectedLogo:null,social_name:"",social_link:""});function f(s,l){t(o=>({...o,logo:s,selectedLogo:l}))}function N(s){s.preventDefault();let l=a.social_name,o=a.social_link;if(l!==null&&o!==null){let c={name:l,value:o},u=a.socials;u.push(c),t(k=>({...k,socials:u,social_name:"",social_link:""}))}}function _(s,l){s.preventDefault();let o=a.socials,c=o[l];o.splice(l,1),t(u=>({...u,socials:o,social_name:c.name,social_link:c.value}))}const b=s=>{s.preventDefault(),j(route("admin.setting.store"))};return e.jsxs(y,{user:h.user,header:e.jsxs("h2",{className:"font-semibold leading-tight text-md text-slate-800",children:["Admin / ",e.jsx(x,{href:route("admin.setting.index"),children:"Settings"})," / ",e.jsx("span",{className:"text-slate-500",children:"Update"})]}),children:[e.jsx(C,{title:"Admin Setting"}),e.jsxs("section",{className:"w-full p-4",children:[e.jsx(A,{}),e.jsx("div",{className:"w-full col-span-12 p-1 bg-white rounded-md",children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("div",{className:"w-1/2 p-4",children:e.jsxs("form",{onSubmit:b,className:"w-full space-y-6",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:`${i.url?"w-2/3":"w-full"}`,children:[e.jsx(n,{htmlFor:"logo",value:"Upload File"}),e.jsx(S,{id:"id_logo",name:"logo",className:"block w-full mt-1",accept:"image/.jpg,.jpeg,.png",value:a.logo,onChange:f}),e.jsx(d,{message:m.file,className:"mt-2"})]}),i.logo?e.jsx("img",{className:"object-cover w-full",loading:"egaer",src:i.logo}):null]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"Site Name"}),e.jsx(r,{id:"id_name",name:"name",value:a.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:s=>t("name",s.target.value)}),e.jsx(d,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slogan",value:"Site Slogan"}),e.jsx(r,{id:"id_slogan",name:"slogan",value:a.slogan,className:"block w-full mt-1",autoComplete:"slogan",isFocused:!1,onChange:s=>t("slogan",s.target.value)}),e.jsx(d,{message:m.slogan,className:"mt-2"})]}),e.jsxs("div",{className:"block mt-4",children:[e.jsx(n,{htmlFor:"description",value:"Site Description"}),e.jsx(D.CKEditor,{editor:I,data:a.description,onChange:(s,l)=>t("description",l.getData()),onReady:s=>{s.editing.view.change(l=>{l.setStyle("height","100px",s.editing.view.document.getRoot())})}}),e.jsx(d,{message:m.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",value:"Site Email"}),e.jsx(r,{id:"id_email",name:"email",type:"email",value:a.email,className:"block w-full mt-1",autoComplete:"email",isFocused:!1,onChange:s=>t("email",s.target.value)}),e.jsx(d,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",value:"Site Phone"}),e.jsx(r,{id:"id_phone",name:"phone",value:a.phone,className:"block w-full mt-1",autoComplete:"phone",isFocused:!1,onChange:s=>t("phone",s.target.value)}),e.jsx(d,{message:m.phone,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"address",value:"Site Address"}),e.jsx(r,{id:"id_address",name:"address",value:a.address,className:"block w-full mt-1",autoComplete:"address",isFocused:!1,onChange:s=>t("address",s.target.value)}),e.jsx(d,{message:m.address,className:"mt-2"})]}),e.jsxs("div",{className:"p-1 mt-4 space-x-2 rounded bg-slate-50",children:[e.jsx(n,{htmlFor:"address",value:"Site Social"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"social_name",value:"Name"}),e.jsx(r,{id:"id_social_name",name:"social_name",value:a.social_name,className:"block w-full mt-1",autoComplete:"social_name",isFocused:!1,onChange:s=>t("social_name",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"social_link",value:"Link"}),e.jsx(r,{id:"id_social_link",name:"social_link",value:a.social_link,className:"block w-full mt-1",autoComplete:"social_link",isFocused:!1,onChange:s=>t("social_link",s.target.value)})]}),e.jsx(x,{href:"",onClick:N,className:"inline-flex p-2 mt-4 rounded bg-slate-100 hover:bg-slate-200 text-slate-500",children:"Add"})]})]}),a.socials.length?e.jsx("div",{className:"col-span-12 p-2 mt-4 rounded bg-slate-100",children:a.socials.map((s,l)=>e.jsxs("div",{onClick:o=>_(o,l),className:"flex justify-between w-full p-1 mt-1 text-sm bg-slate-200 hover:bg-slate-100",children:[e.jsx("span",{className:"text-slate-500",children:s.name}),e.jsx("span",{children:s.value}),e.jsx("span",{className:"cursor-pointer hover:underline",children:"Edit"})]},`kp${l}`))}):null,e.jsx("div",{className:"flex justify-end",children:e.jsx(E,{disabled:v,children:i.id?"Update":"Save"})})]})})})})]})]})}export{Z as default};
