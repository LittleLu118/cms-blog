import{W as y,a as e}from"./index-9eaef73f.js";import{I as n,T as f}from"./TextInput-d6cb6a4c.js";import{I as i}from"./InputLabel-dd781cfe.js";import{P as C}from"./PrimaryButton-74354d44.js";import{C as h}from"./Checkbox-4664b68d.js";import{F as k}from"./FileInputPreview-09345a69.js";import{T as I}from"./TextAreaInput-d09ab5de.js";import{F as T}from"./FlashMessage-cf45a264.js";import{S}from"./SelectInput-21f8fab8.js";import"./index-94693d5e.js";function W({auth:_,formSuccess:c,mediaData:s,types:g}){var x,d,p,j;const v=(x=s.url)!=null&&x.external?s.url.external:(d=s.url)==null?void 0:d.name,{data:a,setData:r,post:u,errors:t,processing:N,reset:o}=y({name:s.name||"",url:v||"",file:null,selectedFile:null,type:s.type||"",description:s.description||"",external:((p=s.external)==null?void 0:p.value)||!1,status:((j=s.status)==null?void 0:j.value)||!1});function F(l,m){r(w=>({...w,file:l,selectedFile:m}))}const b=l=>{l.preventDefault(),s.slug?u(route("admin.media.update",s.slug),{onSuccess:()=>{o(),c()}}):u(route("admin.media.store"),{onSuccess:()=>{o(),c()}})};return e.jsxs("section",{className:"w-full p-4",children:[e.jsx(T,{}),e.jsx("div",{className:"w-full col-span-12",children:e.jsx("div",{className:"w-full p-4 bg-white rounded-md",children:e.jsxs("form",{onSubmit:b,className:"w-full space-y-6",children:[e.jsx("div",{className:"block mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx(h,{name:"external",checked:a.external,onChange:l=>r("external",!a.external)}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"External Media"}),e.jsx(n,{message:t.external,className:"mt-2"})]})}),a.external?e.jsxs("div",{children:[e.jsx(i,{htmlFor:"url",value:"Media URL"}),e.jsx(f,{id:"id_url",name:"url",value:a.url,className:"block w-full mt-1",isFocused:!1,onChange:l=>r("url",l.target.value),required:!0}),e.jsx(n,{message:t.url,className:"mt-2"})]}):null,a.external?null:e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:`${s.url?"w-2/3":"w-full"}`,children:[e.jsx(i,{htmlFor:"file",value:"Upload File"}),e.jsx(k,{id:"id_file",name:"file",className:"block w-full mt-1",accept:"image/.jpg,.jpeg,.png",value:a.file,onChange:F}),e.jsx(n,{message:t.file,className:"mt-2"})]}),s.url?e.jsx("img",{className:"object-cover w-full",loading:"egaer",src:s.url.external?s.url.external:s.url.small,alt:s.name}):null]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",value:"Type"}),e.jsxs(S,{id:"id_type",name:"type",className:"block w-full mt-1",value:a.type,errors:t.type,onChange:l=>r("type",l.target.value),children:[e.jsx("option",{value:"",children:"Select Type"},"tip-start"),g.map((l,m)=>e.jsx("option",{value:l,children:l},`tip${m}`))]}),e.jsx(n,{message:t.type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Media Name/Title"}),e.jsx(f,{id:"id_name",name:"name",value:a.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:l=>r("name",l.target.value),required:!0}),e.jsx(n,{message:t.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",value:"Description"}),e.jsx(I,{id:"id_description",name:"description",value:a.description,className:"block w-full mt-1",isFocused:!1,onChange:l=>r("description",l.target.value)}),e.jsx(n,{message:t.description,className:"mt-2"})]}),e.jsx("div",{className:"block mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx(h,{name:"status",checked:a.status,onChange:l=>r("status",!a.status)}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Is Active"}),e.jsx(n,{message:t.status,className:"mt-2"})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{disabled:N,children:s.slug?"Update":"Save"})})]})})})]})}export{W as default};
